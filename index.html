<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI-Powered Household Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { margin:0; font-family:"Segoe UI",sans-serif; background:#f5f7fa; color:#333; overflow-x:hidden;}
  header { background:linear-gradient(90deg,#4f46e5,#6d28d9); color:white; padding:20px; display:flex; justify-content:space-between; align-items:center; position:relative;}
  header h1 { margin:0; font-size:1.5rem; }
  .cart-btn { background:white; color:#4f46e5; border:none; padding:10px 20px; border-radius:25px; font-weight:bold; cursor:pointer; transition:0.3s;}
  .cart-btn:hover { background:#ddd; }
  .products { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; padding:20px; }
  .product { background:white; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.1); overflow:hidden; transition:transform 0.2s; position:relative;}
  .product:hover { transform:translateY(-5px); }
  .product img { width:100%; height:200px; object-fit:cover; }
  .product h3 { margin:10px; font-size:1.2rem; }
  .product p { margin:5px 10px; color:#555; }
  .product button { margin:10px; padding:10px; width:calc(100% - 20px); border:none; background:#4f46e5; color:white; border-radius:10px; cursor:pointer; transition:0.3s; }
  .product button:hover { background:#6d28d9; }
  #cartModal { display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:1000; }
  #cartContent { background:white; padding:20px; border-radius:15px; width:90%; max-width:500px; max-height:80vh; overflow-y:auto; }
  #cartContent h2 { margin-top:0; }
  .cart-item { display:flex; justify-content:space-between; margin:10px 0; padding:10px; border-bottom:1px solid #ddd; }
  .checkout-btn { margin-top:20px; width:100%; padding:12px; background:#16a34a; color:white; border:none; border-radius:10px; cursor:pointer; font-size:1rem; }
  .checkout-btn:hover { background:#15803d; }
  .flying-item { position:absolute; width:50px; height:50px; border-radius:10px; pointer-events:none; z-index:9999; transition: transform 1s cubic-bezier(.6,.1,.3,1); }
  #google_translate_element { position:absolute; top:20px; right:20px; z-index:1001; }
</style>
</head>
<body>

<header>
  <h1>üè° AI Household Store</h1>
  <div>
    <button class="cart-btn" onclick="openCart()">üõí Cart (<span id="cart-count">0</span>)</button>
  </div>
</header>

<div id="google_translate_element"></div>
<main class="products" id="product-list"></main>

<div id="cartModal">
  <div id="cartContent">
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <h3>Total: $<span id="cart-total">0</span></h3>
    <button class="checkout-btn" onclick="checkoutCOD()">Cash on Delivery</button>
    <br><br>
    <button onclick="closeCart()">Close</button>
  </div>
</div>

<script>
let products=[], cart=[];

// Example product names + prices
const productNames = [
  {name:"Vacuum Cleaner", price:99},
  {name:"Coffee Maker", price:59},
  {name:"Microwave Oven", price:120},
  {name:"Blender", price:40},
  {name:"Dish Soap", price:5},
  {name:"Laundry Basket", price:15},
  {name:"Table Lamp", price:30},
  {name:"Iron", price:25},
  {name:"Cutlery Set", price:45},
  {name:"Cushion Pillow", price:20}
];

// Generate product images from Unsplash API
async function fetchImage(query){
  // Using Unsplash Source API (no key required)
  return `https://source.unsplash.com/400x400/?${encodeURIComponent(query)}`;
}

// Dummy AI description generator
async function generateAI(name){
  const desc = [
    `High-quality ${name} for your home!`,
    `Upgrade your life with ${name}.`,
    `${name} designed for comfort and efficiency.`,
    `Essential ${name} for every household.`
  ];
  return desc[Math.floor(Math.random()*desc.length)];
}

// Prepare products dynamically
async function generateProducts(){
  products=[];
  for(let i=0;i<productNames.length;i++){
    const p = productNames[i];
    const img = await fetchImage(p.name);
    const desc = await generateAI(p.name);
    products.push({...p, img, desc, id:i+1, qty:0});
  }
  renderProducts();
}

// Render products
function renderProducts() {
  const container = document.getElementById('product-list');
  container.innerHTML = products.map(p => `
    <div class="product">
      <img src="${p.img}" alt="${p.name}">
      <h3>${p.name}</h3>
      <p>${p.desc}</p>
      <p>$${p.price}</p>
      <button onclick="flyToCart(${p.id}, this)">Add to Cart</button>
    </div>
  `).join('');
}

// Flying animation
function flyToCart(id, button){
  const product = products.find(p=>p.id===id);
  if(!product) return;

  const img = document.createElement('img');
  img.src = product.img;
  img.className='flying-item';
  document.body.appendChild(img);

  const rect = button.getBoundingClientRect();
  img.style.left = rect.left+'px';
  img.style.top = rect.top+'px';

  setTimeout(()=>img.style.transform=`translate(${window.innerWidth*0.1 - rect.left}px, ${50 - rect.top}px)`, 100);

  setTimeout(()=>{
    const cartBtn = document.querySelector('.cart-btn');
    const cartRect = cartBtn.getBoundingClientRect();
    img.style.transition='transform 0.8s ease-in';
    img.style.transform=`translate(${cartRect.left - rect.left}px, ${cartRect.top - rect.top}px) scale(0.2)`;
  },1000);

  setTimeout(()=>img.remove(), 2000);

  const item = cart.find(i=>i.id===id);
  if(item) item.qty++; else cart.push({...product, qty:1});
  updateCart();
}

// Update cart
function updateCart(){
  document.getElementById('cart-count').textContent = cart.reduce((a,b)=>a+b.qty,0);
  document.getElementById('cart-items').innerHTML = cart.map(i=>`
    <div class="cart-item">
      <span>${i.name} (x${i.qty})</span>
      <span>$${i.price*i.qty}</span>
    </div>`).join('');
  document.getElementById('cart-total').textContent = cart.reduce((a,b)=>a+b.price*b.qty,0);
}

function openCart(){ document.getElementById('cartModal').style.display='flex'; }
function closeCart(){ document.getElementById('cartModal').style.display='none'; }
function checkoutCOD(){ alert('Order placed!'); cart=[]; updateCart(); closeCart(); }

// Google Translate
function googleTranslateElementInit() { new google.translate.TranslateElement({pageLanguage:'en'}, 'google_translate_element'); }

generateProducts();
</script>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
